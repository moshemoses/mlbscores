<html>
  <head>
    <title> MLB Scoreboard </title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script>
setInterval(loadDoc, 30000);


      function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
    var response = this.responseText
    var response1 = JSON.parse(response)
    var scores = " "
	
	//var test123 = homer1.data.games.game[i].away_team_name
	var i
	for(i = 0; i < response1.data.games.game.length; i++){
//away += "<br> away team" + " " + i + " " + homer1.data.games.game[i].away_team_name + " - " + homer1.data.games.game[i].linescore.r.away + "<br> home team" + " " + i + " " + homer1.data.games.game[i].home_team_name + " - " + homer1.data.games.game[i].linescore.r.home

scores+="<br><div class='game'><div class='team'> <div class='team_name'> " + response1.data.games.game[i].away_team_name +   " </div> <div class='score'>   " + response1.data.games.game[i].linescore.r.away +" </div></div><div class='team'><div class='team_name'> " +response1.data.games.game[i].home_team_name + " </div><div class='score'> "+response1.data.games.game[i].linescore.r.home + " </div></div></div><br> "









}

//var score  = homer1.data.games.game[i].linescore.r.away  
 document.getElementById("gamebox").innerHTML = scores
document.getElementById("scoretest").innerHTML = new Date()

    
}
  };

  function zero_add(num){if(num<10){return '0' + num}else{return num}}

  var d = new Date();
  var day = ('0' + d.getDate()).slice(-2);
  var year = d.getFullYear();
  var month = zero_add(d.getMonth() + 1)


  
  
  var api_url = "http://gd2.mlb.com/components/game/mlb/year_"+year+"/month_"+ month + "/day_"+day+"/master_scoreboard.json"
  xhttp.open("GET", api_url, true);
  xhttp.send();

      }
      
    </script>
  </head>
  <body onload="loadDoc()" >
    
    <div id = scoretest></div>
    

    <div id=gamebox> <div>
    
   
    
    
    
   


    
  </body>
  
</html>
